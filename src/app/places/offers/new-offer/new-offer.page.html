<ion-header>
  <ion-back-button text="" defaultHref="/places/tabs/offers"></ion-back-button>
  <button (click)="onCreateOffer()" [disabled]="!form.valid || !form.get('image').value">Create</button>
  <p class="header">New Post</p>
</ion-header>

<ion-content>
  <form [formGroup]="form">
    <app-image-picker
      [showPreview]="form.get('image').value"
      (imagePick)="onImagePicked($event)"
    ></app-image-picker>
    <ion-item-group>
      <ion-item lines="none">
        <ion-label position="floating">Title</ion-label>
        <ion-input type="text" autocomplete autocorrect formControlName="title"></ion-input>
      </ion-item>
      <ion-item lines="none">
        <ion-label position="floating">Description</ion-label>
        <ion-textarea rows="3" formControlName="description"></ion-textarea>
      </ion-item>
      <ion-item lines="none">
        <ion-label position="floating">Market/Shop (Ex: Prisma, Lidl, K-Market...)</ion-label>
        <ion-input type="text" autocomplete autocorrect formControlName="market"></ion-input>
      </ion-item>
      <ion-grid>
        <ion-row>
          <ion-col size="6">
            <ion-item lines="none">
              <ion-label position="floating">Price(â‚¬):</ion-label>
              <ion-input type="number" formControlName="price"></ion-input>
            </ion-item>
          </ion-col>
          <ion-col size="6">
            <ion-item lines="none">
              <ion-label position="floating">Discount(%):</ion-label>
              <ion-input type="number" formControlName="discount"></ion-input>
            </ion-item>
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col size="6">
            <ion-item lines="none">
              <ion-label position="floating">Valid from</ion-label>
              <ion-datetime min="2019-01-01" max="2025-12-31" formControlName="dateFrom"></ion-datetime>
            </ion-item>
          </ion-col>
          <ion-col size="6">
            <ion-item lines="none">
              <ion-label position="floating">Valid to</ion-label>
              <ion-datetime min="2019-01-01" max="2025-12-31" formControlName="dateTo"></ion-datetime>
            </ion-item>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-item-group>  
    <app-location-picker
      [showPreview]="form.get('location').value"
      (locationPick)="onLocationPicked($event)"
    ></app-location-picker>
  </form>
</ion-content>
